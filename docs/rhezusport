Antugrow Api Documentation.docx Antugrow API Documentation (v1) Welcome to the Antugrow API, a service for retrieving satellite, weather, soil, AI-driven image analysis data, and SMS alerts. Base URL: All endpoints are prefixed with a version.Swagger documentation for the antugrow api can be found at Authentication User Registration To access the api endpoints you need to create a user, using a username and a password. Endpoint: /v1/auth/register Parameter Type Required? Description username string Yes Desired username, email password string Yes Password. Response { "message":"User registered successfully", "Username":"<Username>" } Potential Errors: 400 - Username already exists, Invalid password Curl Example: curl -X 'POST' \ 'https://api.antugrow.com/v1/auth/register?username=myusername&password=s ecretpassword' \ -H 'accept: application/json' \ -d '' User Login Endpoint: /v1/auth/login After creating an account, you need to login with your username and password and retrieve a JWT, which is valid for 60 minutes. You can request another JWT, using the refresh token, or simply request another token. curl -X 'POST' \ 'https://api.antugrow.com/v1/auth/login?username=myusername&password=myse cretpasswords' \ -H 'accept: application/json' \ -d '' Parameter Type Required? Description username string Yes Your username password string Yes Your password. { "access_token": "eyJhbGciOiJIU…..RuNKwJn8jGncl6y-S1JEnfO3f7MdW8", "token_type": "bearer" } To generate and retrieve API keys, use the bearer token, and proceed to authorize. Potential Errors 401 - Invalid credentials Generating API Key Endpoint: /v1/auth/generate-api-key After you successfully login, generate an API key using the bearer token. The API key is valid so long as you have an active account. NB: Satellite API for data retrieval requires your account’s API key and not Bearer token. After generating the API key, paste it in the API header key section of the Swagger UI to access the sat endpoints Retrieving API key Endpoint: /v1/auth/retrieve-api-key Incase it happens that you forget your API key, you can retrieve it using the endpoint /v1/auth/retrieve-api-key Satellite Indices This group of endpoints provides access to various satellite-derived environmental indices. Common Parameters (Vegetation & Water Indices) Parameter Type Required? Description lat float Optional Latitude of a specific point. Parameter Type Required? Description lng float Optional Longitude of a specific point. bbox string Optional A JSON string representing a bounding box (polygon). Example: [[lng, lat], [lng, lat], ...]. start_date string Optional Start date for the data query (YYYY-MM-DD). Required with end_date. end_date string Optional End date for the data query (YYYY-MM-DD). Required with start_date. cloud_max float Optional Maximum allowed cloud cover percentage. Default: 20. many bool Optional If True, returns a list of results in the time range. If False, returns the most recent single result. Default: False. Note: You must provide either a lat/lng pair or a bbox. GET /v1/{index_name} (Applies to /ndvi, /evi, /ndwi, /nbr, /ndmi, /savi, /gndvi) Index Full Name Primary Use Typical Range Interpretation NDVI Normalized Difference Vegetation Index Measures vegetation greenness and vigor -0 to +1.0 Values > 0.5 to dense vegetation; 0.2–0.5 to sparse; < 0 to water/bare soil EVI Enhanced Vegetation Index Improves sensitivity in high biomass areas and reduces atmospheric effects -0 to +1.0 Similar to NDVI but more accurate in dense vegetation regions NDWI Normalized Difference Water Index Detects water bodies and moisture content in vegetation -1.0 to +1.0 > 0 to water; < 0 to vegetation or dry areas NBR Normalized Burn Ratio Identifies burned areas and assesses burn severity -1.0 to +1.0 Lower values to burned areas; higher to healthy vegetation NDMI Normalized Difference Moisture Index Estimates vegetation water content (moisture stress) -1.0 to +1.0 Higher to healthy moist vegetation; lower to drought stress SAVI Soil Adjusted Vegetation Index Similar to NDVI but minimizes soil brightness effects -1.0 to +1.0 Useful in regions with sparse vegetation or exposed soil GNDVI Green Normalized Difference Vegetation Index Sensitive to chlorophyll concentration and photosynthetic activity -1.0 to +1.0 Higher to more chlorophyll / plant health Calculates the specified vegetation or water index. Example Request (cURL): curl -X GET "https://api.antugrow.com/v1/ndvi?lat=40.7128&lng=-74.0060&start_date=2024-03 01&end_date=2024-05-31&many=True" \-H "X-API-KEY: YOUR_API_KEY_HERE" Example Request (JavaScript fetch): const url =newURL('https://api.antugrow.com/v1/evi');url.searchParams.append('lat',40.7128); url.searchParams.append('lng',-74.0060); url.searchParams.append('start_date','2024-05-01');url.searchParams.append('end_date','2024-05-31');url.searchParams.append('many',true); fetch(url) .then(response => response.json()) .then(data =>console.log(data)) .catch(error =>console.error('Error:', error)); Example Response (many=False): { "ndvi":0.68, "timestamp":"2024-05-28T00:00:00" } Example Response (many=True): [ { "ndvi":0.62, "timestamp":"2024-05-03T00:00:00" }, { "ndvi":0.68, "timestamp":"2024-05-28T00:00:00" } ] GET /v1/aqi Calculates the AQI (Air Quality Index) for a specific location and date range. Parameter Type Required? Description lat float Yes Latitude of the point of interest. lng float Yes Longitude of the point of interest. start_date string Yes Start date for data (YYYY-MM-DD). end_date string Yes End date for data (YYYY-MM-DD). buffer float Optional Buffer radius in meters around the point. Default: 2000. Note: The many parameter is not supported for the /aqi endpoint. Example Request (cURL): curl -X GET "https://api.antugrow.com/v1/aqi?lat=40.7128&lng=-74.0060&start_date=2024-01-01&end_date=2024-01-31&buffer=2000" \-H "X-API-KEY: YOUR_API_KEY_HERE" Example Response: { "aqi":55, "timestamp":"2025-03-31T22:56:45" } GET /v1/all Retrieves multiple satellite indices in a single call. Query Parameters Parameter Type Required? Description data List[str] Yes Indices to compute. Options: NDVI, GNDVI, AQI, NBR, NDWI, NDMI, EVI, SAVI. lat float Optional Latitude. lng float Optional Longitude. bbox string Optional JSON bounding box. start_date string Optional Start date (YYYY-MM-DD). end_date string Optional End date (YYYY-MM-DD). cloud_max float Optional Max cloud cover %. Default: 20. Example Request (cURL): curl -X GET "https://api.antugrow.com/v1/all?data=NDVI&data=NDWI&lat=40.7128&lng=-74.0060 &start_date=2024-05-01&end_date=2024-05-31"\-H "X-API-KEY: YOUR_API_KEY_HERE" Example Response: { "ndvi":{ "ndvi":0.68, "timestamp":"2024-05-28T00:00:00" }, "ndwi":{ "ndwi":-0.15, "timestamp":"2024-05-28T00:00:00" } } Weather & Climate Provides historical weather and climate data for a specific location. GET /v1/precipitation Retrieves annual and daily average precipitation (mm), along with values for each year queried. Parameter Type Required? Description lat float Yes Latitude of the point. lng float Yes Longitude of the point. years int Optional Number of years back. Default: 1. buffer float Optional Buffer radius in meters. Default: 5000. Example Request (cURL): curl -X GET "https://api.antugrow.com/v1/precipitation?lat=34.0522&lng=-118.2437&years=3" \ -H "X-API-KEY: YOUR_API_KEY_HERE" Example Response: { "annual_precipitation_mm":405.67, "daily_avg_precipitation_mm":1.11, "values":[ {"year":2024,"annual_precipitation_mm":381.5}, {"year":2023,"annual_precipitation_mm":412.0}, {"year":2022,"annual_precipitation_mm":423.5}], "year_range_used":"2022 to 2024" } GET /v1/temperature Retrieves annual temperature statistics. Parameter Type Required? Description lat float Yes Latitude. lng float Yes Longitude. years int Optional Number of years back. Default: 1. buffer float Optional Buffer radius (meters). Default: 5000. Example Request (JavaScript fetch): const url =newURL('https://api.antugrow.com/v1/temperature');url.searchParams.append('lat',34.0522); url.searchParams.append('lng',-118.2437); url.searchParams.append('years',2); fetch(url) .then(response => response.json()) .then(data =>console.log(data)) .catch(error =>console.error('Error:', error)); Example Response: { "annual_avg_temperature_celsius":18.2, "annual_max_temperature_celsius":29.0, "annual_min_temperature_celsius":9.5, "values":[ {"year":2024,"annual_avg_temperature_celsius":18.6, "annual_max_temperature_celsius":29.2,"annual_min_temperature_celsius":9.8 }, {"year":2023,"annual_avg_temperature_celsius":17.8, "annual_max_temperature_celsius":28.8,"annual_min_temperature_celsius":9.2 } ], "year_range_used":"2023 to 2024" } Soil Data Provides global soil property data. Common Parameters (Soil) Parameter Type Required? Description lat float Yes Latitude. lng float Yes Longitude. GET /v1/clay curl -X GET "https://api.antugrow.com/v1/clay?lat=34.0522&lng=-118.2437" \-H "X-API-KEY: YOUR_API_KEY_HERE" Example Response: {"mean_clay_percent":22.5} GET /v1/sand const url =newURL('https://api.antugrow.com/v1/sand');url.searchParams.append('lat',34.0522); url.searchParams.append('lng',-118.2437); fetch(url).then(res => res.json()).then(data =>console.log(data)); Example Response: {"mean_sand_percent":45.1} GET /v1/soil-ph curl -X GET "https://api.antugrow.com/v1/soil-ph?lat=34.0522&lng=-118.2437" \-H "X-API-KEY: YOUR_API_KEY_HERE" Example Response: {"mean_soil_ph":6.7} AI Image Analysis POST /v1/analyze-image Upload a crop image for analysis. Endpoint limited to 1 request per minute. Parameter Type Required? Description photo File Yes Image file (.jpg, .png). instructions String No Instructions for required response Example Request (cURL): curl -X POST "https://api.antugrow.com/v1/analyze-image"\-H"X-API-KEY: <YOUR_API_KEY>"\ -H"Content-Type: multipart/form-data"\ F"photo=@/path/to/my-crop-image.jpg" Example Request (JavaScript fetch): const fileInput =document.querySelector('input[type="file"]');const imageFile = fileInput.files[0]; const apiKey ='<YOUR_API_KEY>'; const formData =newFormData(); formData.append('photo', imageFile); fetch('https://api.antugrow.com/v1/analyze-image', { method:'POST',headers: { 'X-API-KEY': apiKey },body: formData }) .then(res => res.json()) .then(data =>console.log(data)) .catch(err =>console.error('Error:', err)); Example Success Response: {"result":{"raw_response":"This image shows a tomato plant leaf with clear signs of yellowing and dark spots, characteristic of early blight."}} Example Error Response (Auth Failure - 401): {"detail":"Invalid API Key or Not authenticated"} SMS Alert API POST /v1/send-sms Send an alert / message to a phone number. Endpoint limited to 2 requests per minute. Parameter Type Required? Description phone_number String Yes Recipients phone number using international format (+254…) message String Yes Message to be sent Example Request (cURL): curl -X POST "https://your-domain.com/v1/send-sms" \ H "Content-Type: application/json" \ H "X-API-KEY: YOUR_API_KEY" \ d '{ "phone_number": "+254757*****1", "message": "Hello from Antugrow" }' Example Success Response: { "number": "+254757*****1", "status": "success", "statusCode": 100 } Example Error Response (Auth Failure - 401): {"detail":"Invalid API Key or Not authenticated"}